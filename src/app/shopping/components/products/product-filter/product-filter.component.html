<!-- <div class="sticky-top">
  <div class="list-group">
      <a
        class="list-group-item list-group-item-action"
        [class.active]="!category"
        routerLink="/"
        >All Categories</a>
      <a 
        *ngFor="let c of categories$ | async" 
        routerLink="/"
        [queryParams]="{ category: c.id }"
        class="list-group-item list-group-item-action"
        [class.active]="category === c.id"
        >
        {{ c.name }}
      </a>
    </div>
</div> -->

<!-- <div class="row">
  <ng-container *ngFor="let c of categories$ | async; let i = index">
    <div class="col-sm-6">
      <div class="card" style="width: 18rem;">
        <img class="card-img-top" [src]="c.imageUrl" alt="{{ c.name }}">
        <div class="card-body">
          <h5 class="card-title">{{ c.name }}</h5>
        </div>
        <div class="card-footer">
          <button class="btn btn-secondary btn-block">View More</button>
        </div>
      </div>
    </div>
    <div *ngIf="(i + 1) % 3 === 0" class="w-100"></div>
  </ng-container>
</div> -->

<!-- <div class="row row-cols-1 row-cols-md-4">
  <div class="col mb-4">
    <div class="card">
      <img src="..." class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
      </div>
    </div>
  </div>
  <div class="col mb-4">
    <div class="card">
      <img src="..." class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
      </div>
    </div>
  </div>
  <div class="col mb-4">
    <div class="card">
      <img src="..." class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content.</p>
      </div>
    </div>
  </div>
  <div class="col mb-4">
    <div class="card">
      <img src="..." class="card-img-top" alt="...">
      <div class="card-body">
        <h5 class="card-title">Card title</h5>
        <p class="card-text">This is a longer card with supporting text below as a natural lead-in to additional content. This content is a little bit longer.</p>
      </div>
    </div>
  </div>
</div> -->

<!-- <div class="container-fluid">
  <product-filter [category]="category"></product-filter>
  <div class="row"> 
    <ng-container *ngFor="let p of filteredProducts; let i = index">
    <div class="col-lg-4 col-sm-12">
      <product-card [product]="p" [shopping-cart]="cart"></product-card>
    </div>
    <div *ngIf="(i + 1) % 3 === 0" class="w-100"></div>
  </ng-container>
  </div>
</div> -->


<mat-card>
  <mat-card-content>
    <mat-form-field class="full-width">
      <input
        matInput
        (keyup)="applyFilter($event.target.value)"
        placeholder="Filter"
      />
    </mat-form-field>
    <table matSort mat-table [dataSource]="dataSource" class="mat-elevation-z8">
      <!--- Note that these columns can be defined in any order.
                          The actual rendered columns are set as a property on the row definition" -->

      <!-- Position Column -->
      <ng-container matColumnDef="imageUrl">
        <th mat-header-cell *matHeaderCellDef></th>
        <td mat-cell *matCellDef="let category">
          <img [src]="category.imageUrl" class="product-listing-image" />
        </td>
      </ng-container>

      <!-- Name Column -->
      <ng-container matColumnDef="name">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>Name</th>
        <td mat-cell *matCellDef="let category">{{ category.name }}</td>
      </ng-container>

       <!-- Meal Type Column -->
       <ng-container matColumnDef="mealType">
        <th mat-header-cell mat-sort-header *matHeaderCellDef>Meal Type</th>
        <td mat-cell *matCellDef="let category">{{ category.mealType }}</td>
      </ng-container>

      <!-- Symbol Column -->
      <ng-container matColumnDef="action">
        <th mat-header-cell *matHeaderCellDef>Action</th>
        <td mat-cell *matCellDef="let category">
          <button mat-raised-button color="primary"
          routerLink="/products"
          [queryParams]="{ category: category.id }">
            <mat-icon>add_shopping_cart</mat-icon>
          </button>
        </td>
      </ng-container>

      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
    </table>

    <mat-paginator
      [pageSizeOptions]="[3, 6, 9]"
      showFirstLastButtons
    ></mat-paginator>
    <mat-spinner *ngIf="loading"></mat-spinner>
  </mat-card-content>
</mat-card>
